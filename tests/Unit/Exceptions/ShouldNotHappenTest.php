<?php

declare(strict_types = 1);

use Pekral\Arch\Exceptions\ShouldNotHappen;

test('because creates exception with correct message', function (): void {
    $reason = 'This should not happen';
    
    $exception = ShouldNotHappen::because($reason);
    
    expect($exception)->toBeInstanceOf(ShouldNotHappen::class)
        ->and($exception->getMessage())->toBe($reason);
});

test('because works with empty reason', function (): void {
    $reason = '';
    
    $exception = ShouldNotHappen::because($reason);
    
    expect($exception)->toBeInstanceOf(ShouldNotHappen::class)
        ->and($exception->getMessage())->toBe($reason);
});
